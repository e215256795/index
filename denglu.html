<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src='./js/vue.js'></script>
    <script src='./js/counter.js'></script>
    <link rel="stylesheet" href="./denglu.css">
  <style>
    
  </style>
</head>
<body>
    <div id="q1">
        <div>
            <div></div>
            <div class="w1"> 登陆</div>
           
        </div>
       <div>
          <div id="q2"> 
                        <span>还没有百度糯米账号</span>
                        <div class="w2">
                        <a href="zhuce.html">注册</a>
                        </div>
          </div>  
       </div>
    </div>
  <div id="q4"> 
        <div id="q3">
                <div class="w3"></div>
                <div class="w4">
                    <div id="q5">  
                        <div class="w5">登陆百度糯米</div>
                        <div class="w6">
                            <div></div>
                            <input type="text" id='uname'>
                        </div>    
                        <div class="w7">   
                            <div></div>
                        <input type="password" id='upwd' >
                        </div> 
                        <div>下次自动登陆</div>
                        <input type="">
                            <button id='btn'>登录</button>
                    </div>  
                </div>
        </div>
  </div>  

    
   <script>
     btn.onclick=function(){
  
         
              var uname=document.getElementById("uname");
              uname=uname.value;
              console.log(uname)
              sessionStorage.setItem('uname',uname)
              var upwd=document.getElementById("upwd")
              upwd=upwd.value;
              var xhr=new XMLHttpRequest();
			console.log(xhr);
			//4.接收响应数据,开启监听器
			xhr.onreadystatechange=function(){
				//这个监听会被调用4次，第4次是我们需要的,使用if把第4次筛选出来
				if(xhr.readyState==4&&xhr.status==200){
					//只有在readystate为4，响应传输完整
					//status是响应状态码，为200，是响应成功
					var result=JSON.parse(xhr.responseText);
                    console.log(result);
                    if(result.code>0){
                        location.href='index.html'
                    }
				}
			}
			//2.创建请求,打开连接
			xhr.open("get","http://127.0.0.1:3000/login?uname="+uname+"&upwd="+upwd,true);
			//3.发送请求
            xhr.send(null);
   
        
      
          

            
     }
    

   </script>  

</body>
</html>